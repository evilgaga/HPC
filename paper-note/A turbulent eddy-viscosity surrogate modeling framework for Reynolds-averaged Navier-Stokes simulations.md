### 目标：

改进RANS方程的速度和精度

### **背景**：

- 直接数值模拟 (DNS) 的湍流在大多数应用中是不切实际的，因为它具有多尺度特性。需要快速周转时间的工程决策仍然依赖于雷诺平均纳维-斯托克斯 (RANS) 方程进行湍流的稳态分析。

### 相关研究：

**1.**数据驱动方法增强 RANS：

- **Fidelity Porting Strategies**: 通过使用高保真度模拟（如 DNS）的数据来训练机器学习模型，并将其应用于 RANS 模型，以提高 RANS 模型的精度。
- **利用实验数据**: 使用实验数据来训练机器学习模型，并将其应用于 RANS 模型，以提高 RANS 模型的精度。
- **物理规律正则化优化**: 使用物理规律来约束机器学习模型的训练过程，以提高模型的可靠性和泛化能力。

**2. 湍流模型优化**：

- **Zonal Coefficient Refinement**: 通过优化局部湍流模型参数，以提高 RANS 模型的精度。
- **模型选择**: 选择最适合特定流动问题的湍流模型，以提高 RANS 模型的精度。

**3. 物理信息机器学习**：

- **利用高保真度模型信息**: 将高保真度模型（如 DNS）的信息融入到机器学习模型中，以提高模型的精度和泛化能力。
- **子网格建模**: 使用机器学习模型来模拟湍流流动中的子网格尺度信息，以提高 RANS 模型的精度。

**4. CFD 驱动的机器学习**：

- **将机器学习优化与 RANS 求解耦合**: 将机器学习模型的优化过程与 RANS 方程的求解过程耦合，以提高 RANS 模型的精度和收敛速度。
- **空间和时间超分辨率重建**: 使用机器学习模型来重建湍流流动中的亚网格尺度信息，以提高 RANS 模型的精度。

### 方法框架

 该框架分为离线和在线两个阶段。

- **离线阶段**： 在参数空间中生成数据，并训练神经网络来预测湍流涡粘度。
- **在线阶段**： 利用训练好的神经网络预测涡粘度场，并将其固定，然后求解速度和压力方程至稳态。

### 实验

- 实验环境：Intel Core-i7 处理器（时钟速度为 1.90 GHz）上的 OpenFOAM 

- 模拟气流通过如图 所示的背向台阶的流动问题（该问题被广泛用于验证新型湍流模型）

  <img src="A turbulent eddy-viscosity surrogate modeling framework for Reynolds-averaged Navier-Stokes simulations.assets/image-20250123195002325.png" alt="image-20250123195002325" style="zoom:67%;" />

- 模型：DNN

  - 优点：简单、易使用、可加速

- **第一个实验**：

  - 训练数据集由十次模拟生成，每次模拟具有不同的自由流速度，导致雷诺数 Reh 在 34,000 到 41,500 之间变化。

  - 计算域由一个非均匀网格组成，如图所示。

    <img src="A turbulent eddy-viscosity surrogate modeling framework for Reynolds-averaged Navier-Stokes simulations.assets/image-20250123195328125.png" alt="image-20250123195328125" style="zoom:50%;" />

  - 为了捕捉台阶附近发生的分离现象，对网格进行了额外的细化，这可以从图的放大视图中看到。

  - 该实验中使用的总单元数固定为 20,540。

  - 网格使用 OpenFOAM 的原生网格生成器 blockMesh 生成，最大纵横比为 7,601.12

- **第二个实验**：

  - 通过使用固定的入口速度 Ub = 44.2 m/s 并改变台阶高度来设计。
  - 选择了 0.50 h、0.75 h、1.25 h、1.5 h 和 2.0 h 作为不同的数据生成几何形状，并对每个选项重新划分整个域。
  - 因此，该实验对应于一个数值模拟运动，该运动扫描一系列几何形状，使用 ML 代理模型 νt 来帮助每个配置更快地解决时间。

- 所有 CFD 模拟都是使用 OpenFOAM 求解器

- 研究的大部分实验都使用了单方程 Spalart-Allmaras (SA) 模型来生成参考数据集

- **使用 SA 封闭来生成通过求解 RANS 方程得到的稳态 νt 场，该场用于开发机器学习模型的训练数据**

- **利用双方程 RNG k −  和 k − ωSST 模型来演示所提出框架的通用性**

- **训练阶段**: 

  - 训练一个 ML 代理模型，以预测给定低保真度初始条件作为输入的点稳态湍流涡粘度场
  - 训练数据归一化

- **测试阶段**

  - **在实验空间中选择一个新的设计点，例如，一个新的入口速度值或背向台阶的台阶高度，该值在训练数据中不存在**。
  - **使用低保真度初始条件为这个新点生成初始条件 **
  - **部署先前训练的框架来预测稳态湍流涡粘度的近似值，并永久固定这个量**。
  - **利用固定的稳态湍流涡粘度求解雷诺平均压力和速度方程至稳态**。
  - **通过定量指标评估代理涡粘度的影响**

- 解释

  -  使用势流解作为输入特征的主要动机是希望拥有低保真度特征（易于计算）
  - 使用正切双曲正弦 (tanh) 激活确保了 νt 预测相对于输入网格坐标是可微的

- 实验结果

  - 使用相同输入和输出的线性回归和多项式回归进行了比较，所提出的框架成功地优于线性回归和多项式回归方法
  - 预测和真实模型的概率分布图也显示出良好的一致性
  - 所提出的方法允许稳态速度和压力求解器的松弛因子显著增大。
    - 压力和速度的松弛因子为 0.9， S1 的稳态求解器在 687 次迭代后收敛，S2 在 716 次迭代后收敛。
    - SA 实现需要 3696 次和 3646 次迭代才能收敛，同时使用压力的松弛因子为 0.5，速度的为 0.9，˜ν 的为 0.3。
  - 通过 SA 方程训练的 ML 代理预测稳态湍流涡粘度的速度比完整的 RANS 模拟快 5-8 倍。
  - 使用一阶迎风对对流项的两方程模型中学习的额外评估中，获得了大约 2 倍的加速因子

  

### 涉及的概念：

#### RANS方程

RANS方程是实际计算流体动力学 (CFD) 应用中用于稳态不可压缩湍流评估的基石。因此，速度或精度方面的改进有可能影响各种应用。它是流体力学中用于描述不可压缩流体湍流流动的数学模型。它通过对方程进行时间平均，将湍流流动分解为平均流动和脉动流动两部分，从而简化了方程的求解过程。

RANS方程广泛应用于工程领域，例如：

- **航空航天**： 飞机、导弹、卫星等飞行器的气动分析
- **汽车工程**： 汽车外部和内部流动分析
- **能源工程**： 燃烧室、涡轮机等设备的流动分析
- **建筑环境**： 建筑物周围流动分析

RANS方程的局限性：

- **对湍流脉动描述不准确**： RANS方程无法描述湍流的脉动特性，因此对于一些复杂的湍流流动，其预测精度有限。
- **对边界层流动描述不准确**： RANS方程对边界层流动的描述也存在一定的局限性。